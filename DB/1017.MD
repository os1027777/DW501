데이터 베이스 모델링
테이블들은 자식과 부모관계를 가진다.
테이블들은 관계를 가지는데, 총 3가지가 있다.

관계종류
1. 1:1 관계 (one to one)
ex) 군인 <---> 총기 , 사람<---> 주민

2. 1:N 관계 (one to many)
ex) 부서(1) <---> 사원(N) , 축구팀(1) <---> 선수(N)

3. N:N 관계 (many to many) : 테이블 3개 이상
ex) 과목(N) <---> 수강신청 <---> 학생(M)    


------------------------------------------------------------------------------>
모델링 TIP
1. 자주 조회하는 컬럼은 맨 위에 작성하자 ( 하나하나 차례대로 내려가니까 )
2. 테이블에 칼럼이 많으면 좋은 게 아니다 ( 테이블을 나누자 )
3. 자주 쓰는 테이블은 역정규화 하자 ( 몇 백만 건이라면 모아두기 )


------------------------------------------------------------------------------->
-- INSERT , SELECT , UPDATE , DELETE : DML
-- CREATE(테이블 생성) , DROP(테이블 삭제), ALTER(테이블 수정) : DDL

-- 상품테이블 만들기
-- PRODUCT_PRICE 처럼 언더바 사용하기
CREATE TABLE PRODUCTS (
	PRODUCT_ID INT(4) AUTO_INCREMENT PRIMARY KEY,
	PRODUCT_PRICE INT(4) COMMENT '물품가',
	CREATE_AT DATETIME COMMENT '입고 날짜',
	SHIPMENT_PRICE INT (4) COMMENT '출하가',
	A_BRAND_NAME VARCHAR(30) COMMENT 'A 브랜드 이름',
	B_BRAND_NAME VARCHAR(30) COMMENT 'B 브랜드 이름',
	C_BRAND_NAME VARCHAR(30) COMMENT 'C 브랜드 이름'
);

-- 상품테이블에 데이터 넣기
INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, A_BRAND_NAME)
VALUES (3000,NOW(),5000,'나이키 에어포스')

INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, B_BRAND_NAME)
VALUES (3000,NOW(),5000,'아디다스')

INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, A_BRAND_NAME,B_BRAND_NAME,C_BRAND_NAME)
VALUES (3000,NOW(),5000,'나이키','아디다스','코닥')

-- 테이블 삭제 ( 안에 있는 데이터도 모두 사라짐!)
DROP TABLE PRODUCTS

-- 브랜드 테이블 만들기
CREATE TABLE BRAND(
	BRAND_ID INT(4) AUTO_INCREMENT PRIMARY KEY,
	BRAND_NAME VARCHAR(30) COMMENT '브랜드 이름'
);
	
-- 상품테이블 다시 만들기
CREATE TABLE PRODUCTS (
	PRODUCT_ID INT (4) AUTO_INCREMENT PRIMARY KEY,
	PRODUCT_PRICE INT(4) COMMENT '물품가',
	CREATE_AT DATETIME COMMENT '입고 날짜',
	SHIPMENT_PRICE INT(4) COMMENT '출하가',
	BRAND_ID INT (4) COMMENT '브랜드 번호',
	FOREIGN KEY (BRAND_ID) REFERENCES BRAND(BRAND_ID) ON DELETE CASCADE
);

INSERT INTO BRAND (BRAND_NAME,BRAND_ID) VALUES ('나이키',1)

INSERT INTO BRAND (BRAND_NAME,BRAND_ID) VALUES ('아디다스',2)

INSERT INTO BRAND (BRAND_NAME,BRAND_ID) VALUES ('코닥',3)

INSERT INTO BRAND (BRAND_NAME,BRAND_ID) VALUES ('톰브라운',4)

INSERT INTO BRAND (BRAND_NAME,BRAND_ID) VALUES ('버버리',5)

INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, BRAND_ID) VALUES ( 5000,NOW(),3000,1)
INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, BRAND_ID) VALUES ( 6000,NOW(),4000,2)
INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, BRAND_ID) VALUES ( 7000,NOW(),5000,3)
INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, BRAND_ID) VALUES ( 8000,NOW(),6000,4)
INSERT INTO PRODUCTS (PRODUCT_PRICE, CREATE_AT, SHIPMENT_PRICE, BRAND_ID) VALUES ( 9000,NOW(),7000,5)

DELETE FROM BRAND WHERE BRAND_ID >10

-- 상품물품가, 출하가, 입고날짜, 브랜드명 조회, 입고날짜를 내림차순으로 정렬하시오.

SELECT P.PRODUCT_PRICE,P.SHIPMENT_PRICE,P.CREATE_AT,B.BRAND_NAME
FROM PRODUCTS AS P INNER JOIN BRAND AS B ON P.BRAND_ID = B.BRAND_ID 
ORDER BY P.CREATE_AT DESC
